<div class="tab-content">
  <div class="tab-header">
    <h2>{{ 'nav.bookings' | translate }}</h2>
    <div class="filters">
      <div class="filter-group">
        <label>{{ 'filter.date' | translate }}:</label>
        <div class="date-input-group">
          <select [(ngModel)]="selectedDay" (change)="onDateChange()" class="form-control date-select">
            <option [value]="null">{{ 'common.day' | translate }}</option>
            <option *ngFor="let day of days" [value]="day">{{ day }}</option>
          </select>
          <select [(ngModel)]="selectedMonth" (change)="onDateChange()" class="form-control date-select">
            <option [value]="null">{{ 'common.month' | translate }}</option>
            <option *ngFor="let month of months; let i = index" [value]="i + 1">{{ month }}</option>
          </select>
          <select [(ngModel)]="selectedYear" (change)="onDateChange()" class="form-control date-select">
            <option [value]="null">{{ 'common.year' | translate }}</option>
            <option *ngFor="let year of years" [value]="year">{{ year }}</option>
          </select>
        </div>
        <button class="btn btn-secondary btn-today" (click)="setToday()" style="margin-top: 5px;">
          <i class="fas fa-calendar-day"></i> {{ 'common.today' | translate }}
        </button>
      </div>
      <div class="filter-group">
        <label>{{ 'filter.status' | translate }}:</label>
        <select [(ngModel)]="selectedStatus" (change)="onFilterChange()" class="form-control">
          <option value="">{{ 'filter.all' | translate }}</option>
          <option value="waiting">{{ 'booking.waiting' | translate }}</option>
          <option value="in_progress">{{ 'booking.inProgress' | translate }}</option>
          <option value="completed">{{ 'booking.completed' | translate }}</option>
          <option value="cancelled">{{ 'booking.cancelled' | translate }}</option>
        </select>
      </div>
    </div>
  </div>

  <div *ngIf="loading" class="loading-container">
    <div class="loading"></div>
  </div>

  <div *ngIf="!loading">
    <app-queue-list
      [data]="getListData()"
      [columns]="listColumns"
      [headerButtons]="headerButtons"
      [rowButtons]="rowButtons"
      [getRowDecoration]="getRowDecoration"
      (rowClick)="onRowClick($event)">
    </app-queue-list>
  </div>

  <!-- Queue Popup -->
  <app-queue-popup
    *ngIf="selectedBooking"
    [visible]="showPopup"
    [title]="'details.title' | translate"
    [data]="selectedBooking"
    [fields]="popupFields"
    [buttons]="popupButtons"
    [statusBar]="popupStatusBar"
    (close)="closePopup()">
  </app-queue-popup>
</div>


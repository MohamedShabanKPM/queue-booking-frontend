<div class="tab-content">
  <div class="dashboard-header">
    <h2>Dashboard Statistics</h2>
    <div class="date-filter">
      <label>Select Date:</label>
      <input type="date" [(ngModel)]="selectedDate" (change)="onDateChange()" class="form-control">
    </div>
  </div>

  <div *ngIf="loading" class="loading-container">
    <div class="loading"></div>
  </div>

  <div *ngIf="stats && !loading">
    <div class="stats-grid">
      <div class="stat-card">
        <h3>{{ stats.totalToday }}</h3>
        <p>Total Bookings</p>
      </div>
      <div class="stat-card">
        <h3>{{ stats.waiting }}</h3>
        <p>Waiting</p>
      </div>
      <div class="stat-card">
        <h3>{{ stats.inProgress }}</h3>
        <p>In Progress</p>
      </div>
      <div class="stat-card">
        <h3>{{ stats.completed }}</h3>
        <p>Completed</p>
      </div>
      <div class="stat-card">
        <h3>{{ stats.cancelled }}</h3>
        <p>Cancelled</p>
      </div>
    </div>

    <div *ngIf="stats.timeStats && stats.timeStats.totalCompleted > 0" class="time-stats-section">
      <h3>Time Statistics</h3>
      <div class="time-stats-grid">
        <div class="time-stat">
          <label>Average Time:</label>
          <span>{{ stats.timeStats.average }}</span>
        </div>
        <div class="time-stat">
          <label>Min Time:</label>
          <span>{{ stats.timeStats.min }}</span>
        </div>
        <div class="time-stat">
          <label>Max Time:</label>
          <span>{{ stats.timeStats.max }}</span>
        </div>
        <div class="time-stat">
          <label>Total Completed:</label>
          <span>{{ stats.timeStats.totalCompleted }}</span>
        </div>
      </div>
    </div>

    <div *ngIf="stats.employeeStats.length > 0" class="employee-stats-section">
      <h3>Employee Statistics</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Employee</th>
            <th>Total</th>
            <th>Completed</th>
            <th>Cancelled</th>
            <th>Avg Time</th>
            <th>Min Time</th>
            <th>Max Time</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let emp of stats.employeeStats">
            <td>{{ emp.name }}</td>
            <td>{{ emp.count }}</td>
            <td>{{ emp.completed }}</td>
            <td>{{ emp.cancelled }}</td>
            <td>{{ emp.averageTime }}</td>
            <td>{{ emp.minTime }}</td>
            <td>{{ emp.maxTime }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

